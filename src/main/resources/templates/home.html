<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Včeličky.sk</title>
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <link rel="stylesheet" href="/css/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link href="https://api.mapbox.com/mapbox-gl-js/v3.1.2/mapbox-gl.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://api.mapbox.com/mapbox-gl-js/v3.1.2/mapbox-gl.js"></script>
</head>
<body>
<!--    <h1>Toto je moja aplikacia</h1>-->
<!--    <p>Welcome to <span th:text="${appName}">Our App</span></p>-->
<!--    <p>Number: <span id="calculate"></span></p>-->
<!--    <p>Message: <span th:text="${string}"></span></p>-->

    <div class="container-fluid px-0">

        <nav class="navbar navbar-expand-lg navbar-light bg-warning shadow">
            <div class="container-fluid">
                <a class="navbar-brand" id="navbar-logo" href="/">
                    <span class="material-symbols-outlined me-1">hive</span>
                    Včeličky - FIIT STU
                </a>
                <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                        aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation"
                        id="navbarToggler">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="container px-3">
                    <div class="collapse navbar-collapse" id="navbarContent">
                        <ul class="navbar-nav ms-auto me-4 my-3 my-lg-0">
                            <li class="nav-item">
                                <a class="nav-link me-lg-3" href="" style="font-size: 20px">Domov</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link me-lg-3" href="" style="font-size: 20px">Platforma</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link me-lg-3" href="" style="font-size: 20px">Mapa</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link me-lg-3" href="" style="font-size: 20px">O projekte</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link me-lg-3" id="link" href="" style="font-size: 20px">Kontakt</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>

        <div class="bg-light mb-5" id="main-container">
            <div class="container">
                <div class="row align-items-center">
                    <div class=" col-xl-6 col-xxl-6">
                        <img src="/img/bee.png" id="bee-image" class="img-fluid" alt="Image">
                        <img src="/img/bee2.png" id="bee-image3" class="img-fluid" alt="Image">
                        <div class="my-5">
                            <h2 class="text-center fw-bold mb-2">Včelárstvo</h2>
                            <h2 class="text-warning text-center fw-bold mb-2">spojené s technológiou</h2>
                            <p class="lead text-muted mb-4 text-center">
                                Majte všetky dáta o Vašich včelách pod jednou strechou
                            </p>
                            <div class="d-grid gap-3 d-sm-flex justify-content-center">
                                <a class="btn btn-warning btn-large text-uppercase" href="">
                                    Vstúpiť do platformy
                                </a>
                                <a class="btn btn-outline-warning btn-large text-uppercase" href="">
                                    O projekte
                                </a>
                            </div>
                        </div>
                        <img src="/img/bee2.png" id="bee-image2" class="img-fluid" alt="Image">
                    </div>
                    <div class="col-xl-6 col-xxl-6 justify-content-center">
<!--                        <div id="map"></div>-->
                        <h4 class="text-center fw-bold mb-2">Mapa monitorovaných úľov na Slovensku</h4>
                        <div class="bg-light rounded-3 my-3" style="  justify-content: center; align-items: center; display: flex; height: 300px;">
                            <div id="map" style="width: 100%; height: 100%;"></div>
                        </div>
                        <h5 class="text-center fw-bold mb-2"><a href="" id="display-map">Zobraziť mapu v plnej veľkosti</a></h5>
                    </div>
                </div>
            </div>
        </div>

        <section class="page-section mb-5">
            <div class="container">
                <h2 class="text-center mt-0">Služby aplikácie</h2>
                <hr class="divider my-4">
                <div class="row">
                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <i class="fas fa-4x fa-gem text-warning mb-4"></i>
                            <h3 class="h4 mb-2">Inovatívne riešenia</h3>
                            <p class="text-muted mb-0">Efektívne využitie najnovších technológií</p>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <i class="fas fa-4x fa-laptop-code text-warning mb-4"></i>
                            <h3 class="h4 mb-2">Efektívny prehľad dát</h3>
                            <p class="text-muted mb-0">Vaše včely, jasne a prehľadne na jednom mieste</p>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <i class="fas fa-4x fa-globe text-warning mb-4"></i>
                            <h3 class="h4 mb-2">Vždy aktuálne dáta</h3>
                            <p class="text-muted mb-0">Vždy zobrazované najaktuálnejšie dáta o Vašich včelách</p>
                        </div>
                    </div>

                    <div class="col-lg-3 col-md-6 text-center">
                        <div class="mt-5">
                            <i class="fas fa-4x fa-heart text-warning mb-4"></i>
                            <h3 class="h4 mb-2">Pridaná hodnota</h3>
                            <p class="text-muted mb-0">Spojenie technológií a ľudí, pre lepšiu budúcnosť včiel</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <main>

        </main>

        <footer class="bg-light py-4">
            <div class="container">
                <div class="small text-center text-muted">
                    Copyright &copy; 2024 - Adam Grík
                </div>
<!--                <hr class="divider my-4" style="max-width: 100px;">-->
                <div class="small text-center text-muted">
                    <a href="https://www.flaticon.com/free-icons/bee" title="bee icons">Bee icons created by Freepik - Flaticon</a>
                </div>
                <div class="small text-center text-muted">
                    <a href="https://www.flaticon.com/free-icons/bee" title="bee icons">Bee icons created by Smashicons - Flaticon</a>
                </div>
            </div>
        </footer>
    </div>


<script th:inline="javascript">
    // window.onload = function() {
    //     let calculate = [[${number + 5}]];
    //     let message = "[[${string}]]";
    //     console.log(calculate);
    //     console.log(message);
    //     document.getElementById("calculate").innerHTML = calculate.toString();
    // };


    /*<![CDATA[*/
    let geoJsonData = /*[[${geoJsonData}]]*/ '{}';
    /*]]>*/

    console.log(geoJsonData);

    mapboxgl.accessToken = 'pk.eyJ1Ijoic3RhbmtvNDQiLCJhIjoiY2xzYzdsaHh6MG1nczJsbzV0MmFubWtnNyJ9.99PKedbw80WXMSkew8pA5g';
    const map = new mapboxgl.Map({
        container: 'map',
        // Choose from Mapbox's core styles, or make your own style with Mapbox Studio
        style: 'mapbox://styles/mapbox/streets-v12',
        center: [17.58723, 48.37741],
        zoom: 10
    });

    map.on('load', () => {
        map.addSource('places', {
            // This GeoJSON contains features that include an "icon"
            // property. The value of the "icon" property corresponds
            // to an image in the Mapbox Streets style's sprite.
            'type': 'geojson',
            'data': geoJsonData
            // 'data': {
            //   'type': 'FeatureCollection',
            //   'features': [
            //     {
            //       'type': 'Feature',
            //       'properties': {
            //         'description':
            //                 '<strong>Včelí úľ č. 155</strong>' +
            //                 '<p><a href="" target="_blank" title="Zobraziť dashboard">Zobraziť dashboard</a></p>',
            //         'icon': 'embassy'
            //       },
            //       'geometry': {
            //         'type': 'Point',
            //         'coordinates': [17.58723, 48.37741]
            //       }
            //     }
            //   ]
            // }
        });
        // Add a layer showing the places.
        map.addLayer({
            'id': 'places',
            'type': 'symbol',
            'source': 'places',
            'layout': {
                'icon-image': ['get', 'icon'],
                'icon-allow-overlap': true,
                'icon-size': 2
            }
        });

        // When a click event occurs on a feature in the places layer, open a popup at the
        // location of the feature, with description HTML from its properties.
        map.on('click', 'places', (e) => {
            // Copy coordinates array.
            const coordinates = e.features[0].geometry.coordinates.slice();
            const description = e.features[0].properties.description;

            // Ensure that if the map is zoomed out such that multiple
            // copies of the feature are visible, the popup appears
            // over the copy being pointed to.
            while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
                coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
            }

            new mapboxgl.Popup()
                .setLngLat(coordinates)
                .setHTML(description)
                .addTo(map);
        });

        // Change the cursor to a pointer when the mouse is over the places layer.
        map.on('mouseenter', 'places', () => {
            map.getCanvas().style.cursor = 'pointer';
        });

        // Change it back to a pointer when it leaves.
        map.on('mouseleave', 'places', () => {
            map.getCanvas().style.cursor = '';
        });
    });

    // document.addEventListener('DOMContentLoaded', function () {
    //     const navbarToggler = document.getElementById('navbarToggler');
    //     const beeImage = document.getElementById('bee-image');
    //     const beeImage2 = document.getElementById('bee-image2');
    //
    //     navbarToggler.addEventListener('click', function () {
    //         const expanded = this.getAttribute('aria-expanded') === 'true';
    //         if (expanded) {
    //             beeImage.style.top = '310px';
    //             beeImage2.style.top = '310px';
    //         } else {
    //             beeImage.style.top = '100px';
    //             beeImage2.style.top = '100px';
    //         }
    //     });
    //
    //     function handleWindowWidthChange() {
    //         const windowWidth = window.innerWidth;
    //         if(windowWidth > 1200) {
    //             beeImage2.style.top = '410px';
    //         }
    //         if(windowWidth < 1200) {
    //             beeImage2.style.top = '100px';
    //         }
    //     }
    //
    //     // Initial check
    //     handleWindowWidthChange();
    //
    //     window.addEventListener('resize', handleWindowWidthChange);
    // });
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

</body>


</html>